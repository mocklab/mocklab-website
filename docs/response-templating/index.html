

<!doctype html>
<html lang="en" class="no-js">
  <head>
    <!-- start Mixpanel --><script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
mixpanel.init('71b55ac57b47107ca89d12dc7c75cf00', {
    loaded: function(mixpanel) {
        distinct_id = mixpanel.get_distinct_id();
    }
});</script><!-- end Mixpanel -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>Response Templating | MockLab</title>







<meta name="description" content="Making responses dynamic using Handlebars templates">

<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="MockLab">
<meta property="og:title" content="Response Templating">




  <meta property="og:description" content="Making responses dynamic using Handlebars templates">



  <meta property="keywords" content="">





  

  



  <meta property="og:image" content="https://www.mocklab.io/images/mocklab_logo_with_text_large.png">



  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2020-07-10T12:08:12+01:00">
  
    <link rel="next" href="/docs/security/" title="Security">
  
  
    <link rel="prev" href="/docs/recording-stubs/" title="Recording Stubs">
  



  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": null,
      "logo": "/images/https://www.mocklab.io/images/mocklab_logo_with_text_large.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "",
      "url" : null,
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="MockLab Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<link href="https://fonts.googleapis.com/css?family=Cairo:300" rel="stylesheet">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.png">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@1/dist/instantsearch.min.css" />
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.0/dist/instantsearch-theme-algolia.min.css">

    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body>
    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<nav class="header-nav sticky">
  <ul class="header-nav__container">
    <li class="header-nav__logo">
        <a href="https://get.mocklab.io">
            <img src="/images/mocklab_logo_with_text.png" title="MockLab logo"/>
        </a>
    </li>

    <li class="header-nav__item">
        <a href="/docs/getting-started/" title="Docs">Docs</a>
    </li>
    <li class="header-nav__item">
        <a href="/blog/" title="Docs">Blog</a>
    </li>
    <li class="header-nav__item">
        <a href="https://get.mocklab.io/pricing" title="Docs">Pricing</a>
    </li>
    <li class="header-nav__item header-nav__item--last">
        <a href="https://app.mocklab.io" title="Login" target="_blank">Login</a>
    </li>

    <li class="header-nav__cta">
        <a href="https://app.mocklab.io/login?for=signup" title="Sign up" target="_blank">Sign up</a>
    </li>
  </ul>

</nav>

    

<div id="main" role="main">
  

<div class="sidebar sticky">
  <nav class="nav__list">
    <ul class="doc-categories">
      
        <li class="doc-category">
          <span class="doc-category__title">Setup & configuration</span>
          <ul class="doc-category__links">
            
              
              
              <li>
                <a href="/docs/getting-started/">

                Getting Started
                </a>
              </li>
            
              
              
              <li>
                <a href="/docs/security/">

                Security
                </a>
              </li>
            
          </ul>
        </li>
      
        <li class="doc-category">
          <span class="doc-category__title">Stubbing</span>
          <ul class="doc-category__links">
            
              
              
              <li>
                <a href="/docs/stubbing/">

                Stubbing Basics
                </a>
              </li>
            
              
              
              <li>
                <a href="/docs/advanced-stubbing/">

                Advanced Stubbing
                </a>
              </li>
            
              
              
              <li>
                <a href="/docs/delays/">

                Response Delays
                </a>
              </li>
            
              
              
              <li>
                <a href="/docs/simulating-faults/">

                Simulating Faults
                </a>
              </li>
            
              
              
              <li>
                <a href="/docs/stateful-scenarios/">

                Simulating State with Scenarios
                </a>
              </li>
            
              
              
              <li>
                <a href="/docs/proxying/">

                Proxying
                </a>
              </li>
            
          </ul>
        </li>
      
        <li class="doc-category">
          <span class="doc-category__title">Response templating</span>
          <ul class="doc-category__links">
            
              
              
              <li>
                <a href="/docs/response-templating/" class="nav__list-item--selected">
                

                Response Templating
                </a>
              </li>
            
              
              
              <li>
                <a href="/docs/jwt/">

                JSON Web Tokens
                </a>
              </li>
            
          </ul>
        </li>
      
        <li class="doc-category">
          <span class="doc-category__title">Import & export</span>
          <ul class="doc-category__links">
            
              
              
              <li>
                <a href="/docs/swagger/">

                Swagger Import
                </a>
              </li>
            
              
              
              <li>
                <a href="/docs/import-and-export/">

                How to: Import and export your mock API
                </a>
              </li>
            
          </ul>
        </li>
      
        <li class="doc-category">
          <span class="doc-category__title">Record & playback</span>
          <ul class="doc-category__links">
            
              
              
              <li>
                <a href="/docs/recording-stubs/">

                Recording Stubs
                </a>
              </li>
            
          </ul>
        </li>
      
        <li class="doc-category">
          <span class="doc-category__title">Policies</span>
          <ul class="doc-category__links">
            
              
              
              <li>
                <a href="/docs/terms-and-conditions/">

                MockLab Terms of Service
                </a>
              </li>
            
              
              
              <li>
                <a href="/docs/privacy-policy/">

                Privacy Policy
                </a>
              </li>
            
          </ul>
        </li>
      
        <li class="doc-category">
          <span class="doc-category__title">Tutorials</span>
          <ul class="doc-category__links">
            
              
              
              <li>
                <a href="/docs/soap-stubbing/">

                Stubbing a SOAP response
                </a>
              </li>
            
              
              
              <li>
                <a href="/docs/exploratory-testing-tutorial/">

                Exploratory Testing a Spring Boot App
                </a>
              </li>
            
              
              
              <li>
                <a href="/docs/automated-testing-with-java/">

                Automated Testing with Java
                </a>
              </li>
            
              
              
              <li>
                <a href="/docs/default-responses/">

                Serving a Default Response
                </a>
              </li>
            
              
              
              <li>
                <a href="/docs/oauth2-mock/">

                The OAuth2 / OpenID Connect Mock
                </a>
              </li>
            
          </ul>
        </li>
      
        <li class="doc-category">
          <span class="doc-category__title">API references</span>
          <ul class="doc-category__links">
            
              
              
              <li>
                <a href="/docs/mocking/">

                API Reference: Mocking
                </a>
              </li>
            
              
              
              <li>
                <a href="/docs/provisioning/">

                API Reference: Provisioning
                </a>
              </li>
            
          </ul>
        </li>
      
    </ul>

  </nav>
</div>


  <article class="doc-page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Response Templating">
    <meta itemprop="description" content="MockLab stub responses can be configured to return dynamically generated headers and body, using Handlebars templates. Thiscan be enabled by ticking the “Enable templating” box in the response section of the stub form:">
    <meta itemprop="datePublished" content="July 10, 2020">
    

    <div class="page__inner-wrap">
      <header>
        <h1 class="page__title" itemprop="headline">Response Templating
</h1>
      </header>
      <section class="page__content" itemprop="text">
        <p>MockLab stub responses can be configured to return dynamically generated headers and body, using <a href="https://github.com/jknack/handlebars.java">Handlebars templates</a>. This
can be enabled by ticking the “Enable templating” box in the response section of the stub form:</p>

<p><img src="/images/screenshots/enable-response-templating-screenshot.png" title="Enable templating" style="height: 70px" /></p>

<p>Ticking this box means that header values can be templated e.g.</p>

<p><img src="/images/screenshots/header-template-screenshot.png" title="Header template" style="height: 70px" /></p>

<p>And also the response body e.g.</p>

<p><img src="/images/screenshots/body-template-screenshot.png" title="Body template" style="height: 130px" /></p>

<p><a href="http://handlebarsjs.com/">See here</a> for a Handlebars syntax guide.</p>

<p>Currently the model passed to the template is populated with the current HTTP request. This is described in detail in the next section.</p>

<h2 id="the-request-model">The request model</h2>
<p>The model of the request is supplied to the header and body templates. The following request attributes are available:</p>

<p><code class="language-plaintext highlighter-rouge">request.url</code> - URL path and query</p>

<p><code class="language-plaintext highlighter-rouge">request.requestLine.path</code> - URL path</p>

<p><code class="language-plaintext highlighter-rouge">request.requestLine.pathSegments.[&lt;n&gt;]</code>- URL path segment (zero indexed) e.g. <code class="language-plaintext highlighter-rouge">request.requestLine.pathSegments.[2]</code></p>

<p><code class="language-plaintext highlighter-rouge">request.requestLine.query.&lt;key&gt;</code>- First value of a query parameter e.g. <code class="language-plaintext highlighter-rouge">request.requestLine.query.search</code></p>

<p><code class="language-plaintext highlighter-rouge">request.requestLine.query.&lt;key&gt;.[&lt;n&gt;]</code>- nth value of a query parameter (zero indexed) e.g. <code class="language-plaintext highlighter-rouge">request.requestLine.query.search.[5]</code></p>

<p><code class="language-plaintext highlighter-rouge">request.requestLine.method</code>- request method e.g. <code class="language-plaintext highlighter-rouge">POST</code></p>

<p><code class="language-plaintext highlighter-rouge">request.requestLine.host</code>- hostname part of the URL e.g. <code class="language-plaintext highlighter-rouge">my.example.com</code></p>

<p><code class="language-plaintext highlighter-rouge">request.requestLine.port</code>- port number e.g. <code class="language-plaintext highlighter-rouge">8080</code></p>

<p><code class="language-plaintext highlighter-rouge">request.requestLine.scheme</code>- protocol part of the URL e.g. <code class="language-plaintext highlighter-rouge">https</code></p>

<p><code class="language-plaintext highlighter-rouge">request.requestLine.baseUrl</code>- URL up to the start of the path e.g. <code class="language-plaintext highlighter-rouge">https://my.example.com:8080</code></p>

<p><code class="language-plaintext highlighter-rouge">request.headers.&lt;key&gt;</code>- First value of a request header e.g. <code class="language-plaintext highlighter-rouge">request.headers.X-Request-Id</code></p>

<p><code class="language-plaintext highlighter-rouge">request.headers.[&lt;key&gt;]</code>- Header with awkward characters e.g. <code class="language-plaintext highlighter-rouge">request.headers.[$?blah]</code></p>

<p><code class="language-plaintext highlighter-rouge">request.headers.&lt;key&gt;.[&lt;n&gt;]</code>- nth value of a header (zero indexed) e.g. <code class="language-plaintext highlighter-rouge">request.headers.ManyThings.[1]</code></p>

<p><code class="language-plaintext highlighter-rouge">request.cookies.&lt;key&gt;</code> - First value of a request cookie e.g. <code class="language-plaintext highlighter-rouge">request.cookies.JSESSIONID</code></p>

<p><code class="language-plaintext highlighter-rouge">request.cookies.&lt;key&gt;.[&lt;n&gt;]</code> - nth value of a request cookie e.g. <code class="language-plaintext highlighter-rouge">request.cookies.JSESSIONID.[2]</code></p>

<p><code class="language-plaintext highlighter-rouge">request.body</code> - Request body text (avoid for non-text bodies)</p>

<h3 id="values-that-can-be-one-or-many">Values that can be one or many</h3>

<p>A number of HTTP elements (query parameters, form fields, headers) can be single or multiple valued. The template request model and built-in helpers attempt to make
this easy to work with by wrapping these in a “list or single” type that returns the first (and often only) value when no index is specified, but also support index access.</p>

<p>For instance, given a request URL like <code class="language-plaintext highlighter-rouge">/multi-query?things=1&amp;things=2&amp;things=3</code> I can extract the query data in the following ways:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{request.query.things}} // Will return 1
{{request.query.things.0}} // Will return 1
{{request.query.things.first}} // Will return 1
{{request.query.things.1}} // Will return 2
{{request.query.things.[-1]}} // Will return 2
{{request.query.things.last}} // Will return 3
</code></pre></div></div>

<blockquote>
  <p><strong>Note</strong></p>

  <p>When using the <code class="language-plaintext highlighter-rouge">eq</code> helper with one-or-many values, it is necessary to use the indexed form, even if only one value is present.
The reason for this is that the non-indexed form returns the wrapper type and not a String, and will therefore fail any comparison
with another String value.</p>
</blockquote>

<h2 id="handlebars-helpers">Handlebars helpers</h2>
<p>All of the standard helpers (template functions) provided by the <a href="https://github.com/jknack/handlebars.java">Java Handlebars implementation by jknack</a>
plus all of the <a href="https://github.com/jknack/handlebars.java/blob/master/handlebars/src/main/java/com/github/jknack/handlebars/helper/StringHelpers.java">string helpers</a>
and the <a href="https://github.com/jknack/handlebars.java/blob/master/handlebars/src/main/java/com/github/jknack/handlebars/helper/ConditionalHelpers.java">conditional helpers</a>
are available e.g.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{capitalize request.query.search}}
</code></pre></div></div>

<h2 id="number-and-assignment-helpers">Number and assignment helpers</h2>
<p>Variable assignment and number helpers are available:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{#assign 'myCapitalisedQuery'}}{{capitalize request.query.search}}{{/assign}}

{{isOdd 3}}
{{isOdd 3 'rightBox'}}

{{isEven 2}}
{{isEven 4 'leftBox'}}

{{stripes 3 'row-even' 'row-odd'}}
</code></pre></div></div>

<h2 id="xpath-helpers">XPath helpers</h2>
<p>Addiionally some helpers are available for working with JSON and XML.</p>

<p>When the incoming request contains XML, the <code class="language-plaintext highlighter-rouge">xPath</code> helper can be used to extract values or sub documents via an XPath 1.0 expression. For instance, given the XML</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;outer&gt;</span>
    <span class="nt">&lt;inner&gt;</span>Stuff<span class="nt">&lt;/inner&gt;</span>
<span class="nt">&lt;/outer&gt;</span>
</code></pre></div></div>

<p>The following will render “Stuff” into the output:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{xPath request.body '/outer/inner/text()'}}
</code></pre></div></div>

<p>And given the same XML the following will render <code class="language-plaintext highlighter-rouge">&lt;inner&gt;Stuff&lt;/inner&gt;</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{xPath request.body '/outer/inner'}}
</code></pre></div></div>

<p>As a convenience the <code class="language-plaintext highlighter-rouge">soapXPath</code> helper also exists for extracting values from SOAP bodies e.g. for the SOAP document:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope/"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;m:a&gt;</span>
            <span class="nt">&lt;m:test&gt;</span>success<span class="nt">&lt;/m:test&gt;</span>
        <span class="nt">&lt;/m:a&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre></div></div>

<p>The following will render “success” in the output:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{soapXPath request.body '/a/test/text()'}}
</code></pre></div></div>

<h2 id="jsonpath-helper">JSONPath helper</h2>
<p>It is similarly possible to extract JSON values or sub documents via JSONPath using the <code class="language-plaintext highlighter-rouge">jsonPath</code> helper. Given the JSON</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"outer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"inner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stuff"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>The following will render “Stuff” into the output:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{jsonPath request.body '$.outer.inner'}}
</code></pre></div></div>

<p>And for the same JSON the following will render <code class="language-plaintext highlighter-rouge">{ "inner": "Stuff" }</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{jsonPath request.body '$.outer'}}
</code></pre></div></div>

<h2 id="date-and-time-helpers">Date and time helpers</h2>
<p>A helper is present to render the current date/time, with the ability to specify the format (<a href="https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html">via Java’s SimpleDateFormat</a>) and offset.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{now}}
{{now offset='3 days'}}
{{now offset='-24 seconds'}}
{{now offset='1 years'}}
{{now offset='10 years' format='yyyy-MM-dd'}}
</code></pre></div></div>

<p>Dates can be rendered in a specific timezone (the default is UTC):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{now timezone='Australia/Sydney' format='yyyy-MM-dd HH:mm:ssZ'}}
</code></pre></div></div>

<p>Pass <code class="language-plaintext highlighter-rouge">epoch</code> as the format to render the date as UNIX epoch time (in milliseconds), or <code class="language-plaintext highlighter-rouge">unix</code> as the format to render
the UNIX timestamp in seconds.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{now offset='2 years' format='epoch'}}
{{now offset='2 years' format='unix'}}
</code></pre></div></div>

<p>Dates can be parsed from other model elements:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{date (parseDate request.headers.MyDate) offset='-1 days'}}
</code></pre></div></div>

<h2 id="random-value-helper">Random value helper</h2>
<p>Random strings of various kinds can be generated:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{randomValue length=33 type='ALPHANUMERIC'}}
{{randomValue length=12 type='ALPHANUMERIC' uppercase=true}}
{{randomValue length=55 type='ALPHABETIC'}}
{{randomValue length=27 type='ALPHABETIC' uppercase=true}}
{{randomValue length=10 type='NUMERIC'}}
{{randomValue length=5 type='ALPHANUMERIC_AND_SYMBOLS'}}
{{randomValue type='UUID'}}
</code></pre></div></div>

<h2 id="string-trim-helper">String trim helper</h2>
<p>Use the <code class="language-plaintext highlighter-rouge">trim</code> helper to remove whitespace from the start and end of the input:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{trim request.headers.X-Padded-Header}}

{{#trim}}

    Some stuff with whitespace

{{/trim}}
</code></pre></div></div>

<h2 id="base64-helper">Base64 helper</h2>
<p>The <code class="language-plaintext highlighter-rouge">base64</code> helper can be used to base64 encode and decode values:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{base64 request.headers.X-Plain-Header}}
{{base64 request.headers.X-Encoded-Header decode=true}}

{{#base64}}
Content to encode     
{{/base64}}

{{#base64 decode=true}}
Q29udGVudCB0byBkZWNvZGUK     
{{/base64}}
</code></pre></div></div>

<h2 id="url-encoding-helper">URL encoding helper</h2>
<p>The <code class="language-plaintext highlighter-rouge">urlEncode</code> helper can be used to URL encode and decode values:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{urlEncode request.headers.X-Plain-Header}}
{{urlEncode request.headers.X-Encoded-Header decode=true}}

{{#urlEncode}}
Content to encode     
{{/urlEncode}}

{{#urlEncode decode=true}}
Content%20to%20decode     
{{/urlEncode}}
</code></pre></div></div>

<h2 id="form-helper">Form helper</h2>
<p>The <code class="language-plaintext highlighter-rouge">formData</code> helper parses its input as an HTTP form, returning an object containing the individual fields as attributes.
The helper takes the input string and variable name as its required parameters, with an optional <code class="language-plaintext highlighter-rouge">urlDecode</code> parameter
indicating that values should be URL decoded. The folowing example will parse the request body as a form, then output a single field <code class="language-plaintext highlighter-rouge">formField3</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{formData request.body 'form' urlDecode=true}}}{{{form.formField3}}
</code></pre></div></div>

<p>If the form submitted has multiple values for a given field, these can be accessed by index:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{formData request.body 'form' urlDecode=true}}}{{{form.multiValueField.1}}, {{{form.multiValueField.2}}
{{formData request.body 'form' urlDecode=true}}}{{{form.multiValueField.first}}, {{{form.multiValueField.last}}
</code></pre></div></div>

<h2 id="regular-expression-extract-helper">Regular expression extract helper</h2>
<p>The <code class="language-plaintext highlighter-rouge">regexExtract</code> helper supports extraction of values matching a regular expresson from a string.</p>

<p>A single value can be extracted like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{regexExtract request.body '[A-Z]+'}}"
</code></pre></div></div>

<p>Regex groups can be used to extract multiple parts into an object for later use (the last parameter is a variable name to which the object will be assigned):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{regexExtract request.body '([a-z]+)-([A-Z]+)-([0-9]+)' 'parts'}}
{{parts.0}},{{parts.1}},{{parts.2}}
</code></pre></div></div>

<h2 id="size-helper">Size helper</h2>

<p>The <code class="language-plaintext highlighter-rouge">size</code> helper returns the size of a string, list or map:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{size 'abcde'}}
{{size request.query.things}}
</code></pre></div></div>


        
      </section>

      <footer class="page__meta">
        
        




      </footer>

      
    </div>

    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<nav class="page__footer-links">
  <div class="page__footer-links-block">
    <ul>
      <li>&copy; 2020 MockLab</li>
      <li><a href="mailto:info@mocklab.io">info@mocklab.io</a></li>
    </ul>
  </div>

  <div class="page__footer-links-block">
    <h3>Help</h3>
    <ul>
      <li><a href="/docs/getting-started/">Docs</a></li>
      <li><a href="/docs/getting-started/">Blog</a></li>
      <li><a href="https://get.mocklab.io/pricing">Pricing</a></li>
    </ul>
  </div>

  <div class="page__footer-links-block">
    <h3>Solutions</h3>
    <ul>
      <li><a href="/oauth2/">OAuth2</a></li>
    </ul>
  </div>

  <div class="page__footer-links-block">
    <h3>Policies</h3>
    <ul>
      <li><a href="/docs/terms-and-conditions/">Terms and conditions</a></li>
      <li><a href="/docs/privacy-policy/">Privacy policy</a></li>
    </ul>
  </div>

  <div class="page__footer-links-block">
    <ul>

    </ul>
  </div>
</nav>

      </footer>
    </div>

    <script src="/assets/js/main.min.js"></script>




  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-78148205-6', 'auto');
  ga('send', 'pageview');
</script>




<script>
    window.intercomSettings = {
        app_id: "xjme6u4w"
    };
</script>
<script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/xjme6u4w';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()</script>


  </body>
</html>

